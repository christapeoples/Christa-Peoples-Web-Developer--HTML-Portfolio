<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Christa Peoples | Front-End Web Developer</title>
<link rel="stylesheet" href="style.css" />
</head>

<body>
<header class="header">
    <div class="intro">
        <h1 class="typing" aria-label="Hi, I'm Christa â€” Front-End Web Developer">
            Hi, I'm Christa â€” Front-End Web Developer
        </h1>
        <p class="subheading">Turning ideas into clean, modern websites.</p>
        <button id="themeToggle" aria-pressed="false">ðŸŒ™ Dark Mode</button>
    </div>
</header>

<main>
<section id="projects-section">
    <h2>Projects</h2>

    <!-- FILTER BUTTONS -->
    <nav class="filters" aria-label="Project Filters">
        <button class="filter-btn active" data-filter="all">All</button>
        <button class="filter-btn" data-filter="web">Web</button>
        <button class="filter-btn" data-filter="resume">Resume</button>
        <button class="filter-btn" data-filter="mini">Mini Projects</button>
    </nav>

    <!-- PROJECTS CONTAINER -->
    <div id="projects-container" class="projects-grid" aria-live="polite"></div>
</section>
</main>

<script>
// ------------------ PROJECT FETCHER ------------------
async function loadProjects() {
    try {
        const response = await fetch("projects.json");
        const projects = await response.json();
        const container = document.getElementById("projects-container");

        function renderProjects(filter = "all") {
            container.innerHTML = "";

            projects
                .filter(p => filter === "all" || p.category === filter)
                .forEach((project, index) => {
                    const card = document.createElement("article");
                    card.className = "project-card";
                    card.style.animationDelay = `${index * 0.15}s`;

                    const imageSrc = project.image || "images/default-project.png";

                    card.innerHTML = `
                        <img src="${imageSrc}" alt="${project.title}" onerror="this.src='images/default-project.png'" />
                        <h3>${project.title}</h3>
                        <p>${project.description}</p>
                        <div class="badges">
                            ${project.badges?.map(b => `<span class="badge">${b}</span>`).join("") || ""}
                        </div>
                        <a href="${project.url}" target="_blank" rel="noopener noreferrer" class="btn">View Project</a>
                    `;
                    container.appendChild(card);
                });
        }

        // Initial render
        renderProjects("all");

        // FILTERS
        document.querySelectorAll(".filter-btn").forEach(btn => {
            btn.addEventListener("click", () => {
                document.querySelector(".filter-btn.active").classList.remove("active");
                btn.classList.add("active");
                renderProjects(btn.dataset.filter);
            });
        });

    } catch (err) {
        console.error("Failed to load projects:", err);
    }
}

loadProjects();

// ------------------ DARK MODE ------------------
const themeToggle = document.getElementById("themeToggle");
themeToggle.addEventListener("click", () => {
    const isDark = document.body.classList.toggle("dark-mode");
    themeToggle.setAttribute("aria-pressed", isDark);
});

// ------------------ TYPING ANIMATION ------------------
(function typeAnimation() {
    const typingText = document.querySelector(".typing");
    const originalText = typingText.textContent;
    typingText.textContent = "";
    let i = 0;

    function type() {
        typingText.textContent += originalText.charAt(i);
        i++;
        if (i < originalText.length) requestAnimationFrame(type);
    }

    type();
})();
</script>
</body>
</html>
